{"version":3,"mappings":"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","names":["BaseController","name","_modules_service_injector_module__WEBPACK_IMPORTED_MODULE_1__","appLoggerService","_services_logger__WEBPACK_IMPORTED_MODULE_0__","logger","getLogger","debug","isAndroid","_services_state_app_state__WEBPACK_IMPORTED_MODULE_2__","routes","path","component","_forgot_password_page__WEBPACK_IMPORTED_MODULE_0__","ForgotPasswordPageRoutingModule","_angular_router__WEBPACK_IMPORTED_MODULE_2__","imports","exports","ForgotPasswordPageModule","_angular_common__WEBPACK_IMPORTED_MODULE_3__","_angular_forms__WEBPACK_IMPORTED_MODULE_4__","_ionic_angular__WEBPACK_IMPORTED_MODULE_5__","_forgot_password_routing_module__WEBPACK_IMPORTED_MODULE_0__","declarations","_forgot_password_page__WEBPACK_IMPORTED_MODULE_1__","_angular_core__WEBPACK_IMPORTED_MODULE_6__","ForgotPasswordPage","navCtrl","navParams","authService","formBuilder","helper","forgotPasswordForm","group","email","_angular_forms__WEBPACK_IMPORTED_MODULE_7__","src_app_global_validators__WEBPACK_IMPORTED_MODULE_3__","formSubmitted","event","errorMessage","showLoading","u","value","reset","data","hideLoading","success","alert","src_app_configs_app_config__WEBPACK_IMPORTED_MODULE_1__","controls","setValue","goTo","src_app_app_routing_module__WEBPACK_IMPORTED_MODULE_0__","src_app_bases_base_controller__WEBPACK_IMPORTED_MODULE_2__","selectors","features","decls","vars","consts","template","ctx"],"sources":["webpack:///src/app/bases/base-controller.ts","webpack:///src/app/pages/forgot-password/forgot-password-routing.module.ts","webpack:///src/app/pages/forgot-password/forgot-password.module.ts","webpack:///src/app/pages/forgot-password/forgot-password.page.html","webpack:///src/app/pages/forgot-password/forgot-password.page.ts"],"sourcesContent":["import { AppLogger, AppLoggerService } from '../services/logger';\nimport { ServiceInjector } from '../modules/service-injector.module';\nimport { AppState } from '../services/state/app.state';\nexport class BaseController {\n  protected readonly logger: AppLogger;\n  protected readonly serviceInjector = ServiceInjector;\n  protected readonly name: string;\n  public isAndroid: boolean;\n\n  constructor(name: string) {\n    this.name = name;// || this.constructor?.name;\n\n    const appLoggerService: AppLoggerService =\n    ServiceInjector.get(AppLoggerService);\n    this.logger = appLoggerService?.getLogger(this.name);\n    this.logger.debug('Enter');\n    this.isAndroid = AppState.isOnAndroid;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ForgotPasswordPage } from './forgot-password.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ForgotPasswordPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ForgotPasswordPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { ForgotPasswordPageRoutingModule } from './forgot-password-routing.module';\nimport { ForgotPasswordPage } from './forgot-password.page';\nimport { ReactiveFormsModule } from '@angular/forms';\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ForgotPasswordPageRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [ForgotPasswordPage]\n})\nexport class ForgotPasswordPageModule {}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar class=\"bg-02\" mode=\"md\" *ngIf=\"isAndroid\">\n    <ion-buttons slot=\"start\">\n      <ion-button (click)=\"goBack()\">\n        <ion-icon name=\"chevron-back-outline\" class=\"font-size-28\" color=\"primary\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n  <ion-toolbar class=\"bg-02\" mode=\"ios\" *ngIf=\"!isAndroid\">\n    <ion-buttons slot=\"start\">\n      <ion-button (click)=\"goBack()\">\n        <ion-icon name=\"chevron-back-outline\" class=\"font-size-28\" color=\"primary\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n<ion-content class=\"ion-padding\">\n  <form [formGroup]=\"forgotPasswordForm\" (ngSubmit)=\"forgotPasswordForm.valid && doResetPassword($event)\">\n    <div class=\"w-100 px-3\">\n      <p class=\"app-form-logo\">\n        <img src=\"assets/img/its-logo.png\" alt=\"Innova Telematics Solutions\" />\n      </p>\n      <p class=\"mb-4\">\n        <ion-input (ionChange)=\"emailChange()\" class=\"app-input mb-2\" formControlName=\"email\" type=\"email\" name=\"email\"\n          required placeholder=\"Email\"></ion-input>\n      </p>\n      <div [hidden]=\"!formSubmitted\" *ngIf=\"forgotPasswordForm.controls.email.errors\" class=\"mb-4\">    \n        <span ion-text class=\"text-danger\" *ngIf=\"forgotPasswordForm.controls.email.errors\">\n          Email is not valid.\n        </span>\n      </div>\n      <div class=\"mb-4\">       \n        <span ion-text class=\"text-danger\" [hidden]=\"!errorMessage || forgotPasswordForm.controls.email.invalid\">\n          {{errorMessage}}\n        </span>\n      </div>\n      <ion-button (click)=\"formSubmitted = true\" type=\"submit\" class=\"app-button\" expand=\"block\">Reset</ion-button>\n    </div>\n  </form>\n</ion-content>","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { NavController, NavParams } from '@ionic/angular';\nimport { RoutePath } from 'src/app/app-routing.module';\nimport { AppConfig, AppStrings } from 'src/app/configs/app.config';\nimport { BaseController } from 'src/app/bases/base-controller';\nimport { GlobalValidator } from 'src/app/global-validators';\nimport { AuthServiceProvider } from 'src/app/services/auth-service/auth-service';\nimport { HelperService } from 'src/app/services/helper.service';\nimport { AppState } from 'src/app/services/state/app.state';\n\n@Component({\n  selector: 'app-forgot-password',\n  templateUrl: './forgot-password.page.html',\n  styleUrls: ['./forgot-password.page.scss'],\n})\nexport class ForgotPasswordPage extends BaseController implements OnInit {\n  forgotPasswordForm: FormGroup;\n  formSubmitted = false;\n  errorMessage = null;\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    private authService: AuthServiceProvider,\n    private formBuilder: FormBuilder,\n    private helper: HelperService) {\n    super('ForgotPasswordPage');\n  }\n\n  ngOnInit() {\n    this.forgotPasswordForm = this.formBuilder.group({\n      email: ['', Validators.compose([Validators.required, GlobalValidator.mailFormat])]\n    });\n  }\n\n  async ionViewWillEnter(){\n    this.formSubmitted = false;\n  }\n\n  async doResetPassword(event) {\n    this.errorMessage = null;\n    this.helper.showLoading();\n    const u = this.forgotPasswordForm.value.email;\n    const data = await this.authService.reset(u);\n    this.helper.hideLoading();\n    if (data.success) {\n      this.helper.alert(AppStrings.MSG_RESET_PASSWORD_SUCCESS, AppStrings.SUCCESS);\n      this.formSubmitted = false;\n      this.forgotPasswordForm.controls[\"email\"].setValue('');\n    } else {\n      this.errorMessage = 'User Not Found';\n    }\n  }\n\n  goBack(){\n    this.helper.goTo(RoutePath.Login);\n  }\n\n  emailChange() {\n    this.errorMessage = null;\n  }\n}\n"]}