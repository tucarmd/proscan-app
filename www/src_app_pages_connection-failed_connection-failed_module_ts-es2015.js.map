{"version":3,"file":"src_app_pages_connection-failed_connection-failed_module_ts-es2015.js","mappings":"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","sources":["./src/app/bases/base-controller.ts","./src/app/pages/connection-failed/connection-failed-routing.module.ts","./src/app/pages/connection-failed/connection-failed.module.ts","./src/app/pages/connection-failed/connection-failed.page.ts","./src/app/pages/connection-failed/connection-failed.page.html"],"sourcesContent":["import { AppLogger, AppLoggerService } from '../services/logger';\nimport { ServiceInjector } from '../modules/service-injector.module';\nimport { AppState } from '../services/state/app.state';\nexport class BaseController {\n  protected readonly logger: AppLogger;\n  protected readonly serviceInjector = ServiceInjector;\n  protected readonly name: string;\n  public isAndroid: boolean;\n\n  constructor(name: string) {\n    this.name = name;// || this.constructor?.name;\n\n    const appLoggerService: AppLoggerService =\n    ServiceInjector.get(AppLoggerService);\n    this.logger = appLoggerService?.getLogger(this.name);\n    this.logger.debug('Enter');\n    this.isAndroid = AppState.isOnAndroid;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ConnectionFailedPage } from './connection-failed.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ConnectionFailedPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ConnectionFailedPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ConnectionFailedPageRoutingModule } from './connection-failed-routing.module';\n\nimport { ConnectionFailedPage } from './connection-failed.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ConnectionFailedPageRoutingModule\n  ],\n  declarations: [ConnectionFailedPage]\n})\nexport class ConnectionFailedPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ReportSession } from 'src/app/models/report-session';\nimport { HelperService } from 'src/app/services/helper.service';\nimport { ReportServiceProvider } from 'src/app/services/report-service/report-service';\nimport { VehicleServiceProvider } from 'src/app/services/vehicle-service/vehicle-service';\nimport { ActivatedRoute } from '@angular/router';\nimport { RoutePath } from 'src/app/app-routing.module';\nimport { NavigationService } from 'src/app/services/navigation.service';\nimport { BaseController } from 'src/app/bases/base-controller';\nimport { AppState } from 'src/app/services/state/app.state';\n@Component({\n  selector: 'app-connection-failed',\n  templateUrl: './connection-failed.page.html',\n  styleUrls: ['./connection-failed.page.scss'],\n})\nexport class ConnectionFailedPage extends BaseController implements OnInit {\n  locationImageUrl: any;\n  isRetry = false;\n  isCanceled = false;\n  Mileage = 0;\n  WorkOrderNumber = '';\n  hasDlcInfo = false;\n  deviceId = '';\n  toolName = '';\n  reportSession: ReportSession;\n  sourcePage: string;\n  public unregisterBackButtonAction: any;\n\n  constructor(\n    private navigationService: NavigationService,\n    private reportService: ReportServiceProvider,\n    private vehicleService: VehicleServiceProvider,\n    private helper: HelperService,\n    private route: ActivatedRoute\n  ) {\n    super('ConnectionFailedPage');\n  }\n  ionViewWillEnter() {\n    this.deviceId = this.route.snapshot.queryParamMap.get('deviceId');\n    this.toolName = this.route.snapshot.queryParamMap.get('toolName');\n    this.sourcePage = this.route.snapshot.queryParamMap.get('sourcePage');\n  }\n\n  ngOnInit() {}\n  ionViewDidEnter() {\n    this.reportSession = this.reportService.getReportSession();\n  }\n\n  ionViewWillLeave() {\n    // Unregister the custom back button action for this page\n    this.navigationService.restoreHardwareBack();\n  }\n\n  // public initializeBackButtonCustomHandler(): void {\n  //   this.unregisterBackButtonAction = this.platform.registerBackButtonAction(() => {\n  //     this.customHandleBackButton();\n  //   }, 10);\n  // }\n\n  // private customHandleBackButton(): void {\n  //   this.goHome();\n  // }\n\n  tryAgain() {\n    console.log('tryAgain click');\n    this.navigationService.goTo(\n      this.sourcePage ? this.sourcePage : RoutePath.VehicleLinking,\n      { queryParams: { deviceId: this.deviceId, toolName: this.toolName } }\n    );\n  }\n\n  locateDlc() {\n    let ctx = this;\n    if (ctx.reportSession.hasDlc) {\n      this.navigationService.goTo(RoutePath.DlcLocatorDetails);\n    } else {\n      if (this.reportSession.vin && this.reportSession.vin.length === 17) {\n        ctx.helper.showLoading();\n        ctx.vehicleService\n          .getDlcLocationByVin(this.reportSession.vin)\n          .then((result) => {\n            ctx.helper.hideLoading();\n            this.reportSession.hasDlc = true;\n            this.reportSession.dlcModel = result.data;\n            this.reportService.saveReportSession(this.reportSession);\n            this.navigationService.goTo(RoutePath.DlcLocatorDetails);\n          })\n          .catch((err) => {\n            ctx.helper.hideLoading();\n            this.reportSession.hasDlc = false;\n            this.reportService.saveReportSession(this.reportSession);\n            this.navigationService.goTo(RoutePath.DlcLocatorDetails);\n          });\n      } else {\n        this.navigationService.goTo(RoutePath.DlcLocator);\n      }\n    }\n  }\n\n  goHome() {\n    this.reportService.deleteReportSession();\n    this.helper.popToRoot(RoutePath.Home);\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar color=\"danger\" mode=\"md\" *ngIf=\"isAndroid\">\n    <ion-title>Connection Failed</ion-title>\n  </ion-toolbar>\n  <ion-toolbar color=\"danger\" mode=\"ios\" *ngIf=\"!isAndroid\">\n    <ion-title>Connection Failed</ion-title>\n  </ion-toolbar>\n</ion-header>\n<ion-content class=\"ion-padding\">\n  <div class=\"px-4 py-2 bg-01\">\n    <p class=\"text-center\"><img src=\"assets/img/no-dlc.jpg\" style=\"max-height: 65vh;\"/></p>\n    <h2>No device detected</h2>\n    <p class=\"text-light\">Make sure the tool is connected to the vehicle's DLC, the key is turned to the run position (engine OFF), and Bluetooth is enabled on your phone or tablet.</p>\n  </div>\n  \n</ion-content>\n<ion-footer class=\"ion-no-border p-2\">\n  <ion-toolbar class=\"py-1\">\n    <p class=\"text-center font-size-18 mb-2\" (click)=\"locateDlc()\"><a>Locate DLC</a></p>\n    <ion-grid>\n      <ion-row>\n        <ion-col>\n          <ion-button class=\"app-button\" expand=\"block\" (click)=\"goHome()\">Home</ion-button>\n        </ion-col>\n        <ion-col>\n          <ion-button class=\"app-button\" color=\"danger\" expand=\"block\" (click)=\"tryAgain()\">Try Again</ion-button>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </ion-toolbar>\n</ion-footer>"],"names":[],"sourceRoot":"webpack:///"}