{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAEC;AAFb,OADqB,CAAvB;;UAWaC;;;;;yBAAAA;AAA6B;;;cAA7BA;;;kBAHF,CAACC,mEAAsBL,MAAtB,CAAD,GACCK;;;;4HAECD,gCAA6B;AAAAE;AAAAC,oBAF9BF,yDAE8B;AAAA;AAFlB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCKXG;;;;;yBAAAA;AAAsB;;;cAAtBA;;;kBARF,CACPC,yDADO,EAEPC,uDAFO,EAGPC,uDAHO,EAIPC,wFAJO;;;;4HAQEJ,yBAAsB;AAAAK,yBAFlBC,iEAEkB;AAFFR,oBAL7BG,yDAK6B,EAJ7BC,uDAI6B,EAH7BC,uDAG6B,EAF7BC,wFAE6B;AAEE;AAJF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACd/BG;;AACEA;;AAAiCA;;AAA0BA;;AAC7DA;;;;;;AAFaA;;AACsBA;;AAAAA;;;;;;AAEnCA;;AACEA;;AAAiCA;;AAA0BA;;AAC7DA;;;;;;AAFaA;;AACsBA;;AAAAA;;;;;;AA2B7BA;;AAC8BA;;AAAKA;;;;;;;;AAMjCA;;AAA8CA;AAAAA;;AAAA;;AAAA;AAAA;;AACGA;;;;;;;;AAGjDA;;AAC8BA;AAAAA;;AAAA;;AAAA,qCAAmB,CAAnB,EAAsB,EAAtB,EAA0B,CAA1B,EAA6B,CAA7B,EAAgC,IAAhC;AAAoC,WAApC;;AAAuCA;;;;;;AAFvEA;;AACEA;;AAEFA;;;;;;AAFaA;;AAAAA;;;;;;;;AAQXA;;AAAoCA;AAAAA;;AAAA;;AAAA;AAAA;;AACbA;;;;;;;;AAGvBA;;AACEA;AAAAA;;AAAA;;AAAA,qCAAmB,CAAnB,EAAsB,EAAtB,EAA0B,CAA1B,EAA6B,CAA7B,EAAgC,IAAhC;AAAoC,WAApC;;AAAuCA;;;;;;AAF3CA;;AACEA;;AAEFA;;;;;;AAFaA;;AAAAA;;;;;;AA7BnBA;;AACEA;;AACEA;;AACEA;;AAAgDA;;AAAaA;;AAC7DA;;AAA0CA;;AAAGA;;AAC7CA;;AAAqFA;;AAAOA;;AAC5FA;;AAEFA;;AACAA;;AACEA;;AAAgDA;;AAAOA;;AACvDA;;AAA0CA;;AAAuCA;;AACjFA;;AACEA;;AAEFA;;AACAA;;AAIFA;;AACAA;;AACEA;;AAAgDA;;AAAmBA;;AACnEA;;AAA0CA;;AAAiBA;;AAC3DA;;AACEA;;AAEFA;;AACAA;;AAIFA;;AACFA;;AACFA;;;;;;AA/BeA;;AAAAA;;AAINA;;AAAAA;;AAGMA;;AAAAA;;AACiCA;;AAAAA;;AAE7BA;;AAAAA;;AAG8BA;;AAAAA;;AAMlCA;;AAAAA;;AACiCA;;AAAAA;;AAE7BA;;AAAAA;;AAG8BA;;AAAAA;;;;;;AAc3CA;;AAC8BA;;AAAKA;;;;;;AAGnCA;;AAAyEA;;AAAeA;;;;;;;;AAA/EA;;AAAgEA;;AAAAA;;;;;;AACzEA;;AAAwEA;;AAChDA;;AAAeA;;AAAOA;;;;;;;;AADrCA;;AACeA;;AAAAA;;;;;;;;AAGtBA;;AAAsCA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACfA;;;;;;;;AAGvBA;;AAEEA;AAAAA;;AAAA;;AAAA;;AAAA,8GAA4E,KAA5E;AAAiF,WAAjF;;AAAoFA;;;;;;AAHxFA;;AACEA;;AAGFA;;;;;;AAHaA;;AAAAA;;;;;;AAVfA;;AACEA;;AACAA;;AAEAA;;AAA0CA;;AAAmBA;;AAC7DA;;AACEA;;AAEFA;;AACAA;;AAKFA;;;;;;;;AAbmDA;;AAAAA;;AACAA;;AAAAA;;AAEPA;;AAAAA;;AAE7BA;;AAAAA;;AAG8BA;;AAAAA;;;;;;AAlBjDA;;AACEA;;AACEA;;AACEA;;AAAgDA;;AAAcA;;AAC9DA;;AAA0CA;;AAAGA;;AAC7CA;;AAAqFA;;AAAOA;;AAC5FA;;AAEFA;;AACAA;;AAeFA;;AACFA;;;;;;AAtBeA;;AAAAA;;AAINA;;AAAAA;;AAEuBA;;AAAAA;;;;;;;;AAkB9BA;;AAAsEA;AAAAA;;AAAA;;AAAA;AAAA;;AAC7BA;;AAAsBA;;;;;;AAAtBA;;AAAAA;;;;;;AASvCA;;AACEA;;AAAkBA;;AAAeA;;AACjCA;;AAA0CA;;AAACA;;AAC7CA;;;;;;AAFoBA;;AAAAA;;;;;;AAPxBA;;AACEA;;AACEA;;AACEA;;AAAkBA;;AAAMA;;AACxBA;;AAA0CA;;AAAGA;;AAC/CA;;AACAA;;AAIFA;;AACFA;;;;;;AALgCA;;AAAAA;;;;;;;;AAMhCA;;AACEA;;AAAYA;AAAAA;;AAAA;;AAAA;AAAA;;AAA2DA;;AAAMA;;AAC/EA;;;;;;;;AASMA;;AACEA;;AAA6DA;AAAAA;;AAAA;;AAAA;AAAA;;AAAyBA;;AAASA;;AACjGA;;;;UCpGKC;AAyBX,mCACSC,OADT,EAESC,SAFT,EAGUC,MAHV,EAISC,SAJT,EAKUC,aALV,EAMUC,gBANV,EAOUC,iBAPV,EAO8C;AAAA;;AAAA;;AAE5C,uDAAM,kBAAN;AARO;AACA;AACC;AACD;AACC;AACA;AACA;AA9BV,kCAAkB,EAAlB;AACA,2BAAW,EAAX;AAKA,sCAAsB,CAAtB;AACA,8BAAc,EAAd;AACA,sBAAM,EAAN;AACA,0BAAU,CAAV;AACA,gCAAgB,CAAhB;AACA,kCAAkB,KAAlB;AACA,0CAA0B,KAA1B;AACA,sCAAsB,IAAtB;AACA,qCAAqB,4BAArB;AACA,mCAAmB,EAAnB;AACA,2BAAW,KAAX;AACA,kCAAkB,KAAlB;AACA,kCAAkB,EAAlB;AACA,2BAAW,EAAX;AACA,gCAAgB,CAAhB;AAU8C;AAG7C;;;;;;iBACD,iBAAQ,IAAK;;;iBAEb,yBAAgB;AACd,iBAAKC,eAAL,GAAuB,EAAvB;AACA,iBAAKC,QAAL,GAAgB,KAAKF,iBAAL,CAAuBG,aAAvB,CAAqC,UAArC,CAAhB;AACA,iBAAKC,QAAL,GAAgB,KAAKJ,iBAAL,CAAuBG,aAAvB,CAAqC,UAArC,CAAhB;AACA,iBAAKE,eAAL,GAAuB,KAAKT,MAAL,CAAYU,qBAAZ,CAAkC,KAAKN,iBAAL,CAAuBG,aAAvB,CAAqC,aAArC,CAAlC,CAAvB;;AACA,gBAAI,KAAKE,eAAT,EAA0B;AACxB,mBAAKE,mBAAL,GAA2B,KAA3B;AACD,aAFD,MAEO;AACL,mBAAKA,mBAAL,GAA2B,IAA3B;AACD;AACF;;;iBACK,wBAAe;;;;;AACnB,yBAAKC,QAAL,GAAgB,KAAhB;;AACA,2BAAM,KAAKC,UAAL,EAAN;;;;;;;;AACD;;;iBAEK,mBAAU;;;;;;AACVC,0BAAM;;AACV,2BAAMA,GAAG,CAACd,MAAJ,CAAWe,WAAX,EAAN;;;;AACc,2BAAMD,GAAG,CAACZ,aAAJ,CAAkBc,SAAlB,CAA4BF,GAAG,CAACN,QAAhC,CAAN;;;AAAd,yBAAKS;;yBACD,KAAKA;;;;;AACP,yBAAKC,eAAL,GAAuB,KAAKD,MAAL,CAAYE,eAAnC;AACA,yBAAKC,YAAL,GAAoB,KAAKH,MAAL,CAAYI,YAAhC;;AACA,wBAAG,KAAKJ,MAAL,CAAYK,eAAf,EAA+B;AAC7B,2BAAKC,eAAL,GAAuB,KAAKN,MAAL,CAAYK,eAAnC;AACA,2BAAKE,aAAL,GAAqB,KAAKD,eAAL,CAAqBE,cAA1C;AACD;;AACD,wBAAI,KAAKR,MAAL,CAAYS,cAAhB,EAAgC;AAC9BZ,yBAAG,CAACa,cAAJ,GAAqB,KAAKV,MAAL,CAAYS,cAAZ,CAA2BE,IAA3B,CAAgC,UAACC,CAAD;AAAA,+BAAOA,CAAC,CAACC,KAAT;AAAA,uBAAhC,CAArB;AACAhB,yBAAG,CAACa,cAAJ,CAAmBI,OAAnB,CAA2B,UAACC,IAAD,EAAS;AAClC,4BAAIlB,GAAG,CAACT,eAAJ,CAAoB4B,SAApB,CAA8B,UAACC,CAAD;AAAA,iCAAOA,CAAC,CAACC,EAAF,KAASH,IAAI,CAACG,EAArB;AAAA,yBAA9B,IAAyD,CAAC,CAA9D,EACEH,IAAI,CAACpB,QAAL,GAAgB,IAAhB;AACH,uBAHD;AAID;;AACD,wBAAI,KAAKK,MAAL,CAAYmB,iBAAhB,EAAmC;AACjCtB,yBAAG,CAACuB,iBAAJ,GAAwB,KAAKpB,MAAL,CAAYmB,iBAApC;AACD;;AAED,wBAAI,KAAKnB,MAAL,CAAYqB,MAAZ,KAAuB,CAA3B,EAA8B;AAC5BxB,yBAAG,CAACyB,gBAAJ,GAAuB,aAAvB;AACD,qBAFD,MAEO;AACLzB,yBAAG,CAACyB,gBAAJ,GAAuB,EAAvB;AACD;;AACDzB,uBAAG,CAAC0B,WAAJ,GAAkB,KAAKvB,MAAL,CAAYwB,IAAZ,GAAmB,KAAKxB,MAAL,CAAYwB,IAA/B,GAAsC,EAAxD;AACA3B,uBAAG,CAAC4B,GAAJ,GAAU,KAAKzB,MAAL,CAAY0B,GAAZ,GAAkB,KAAK1B,MAAL,CAAY0B,GAA9B,GAAoC,EAA9C;AACA7B,uBAAG,CAAC8B,OAAJ,GAAc,KAAK3B,MAAL,CAAY4B,OAA1B;AACA/B,uBAAG,CAACgC,aAAJ,GAAoB,KAAK7B,MAAL,CAAY8B,mBAAZ,GAAkC,KAAK9B,MAAL,CAAY8B,mBAA9C,GAAoE,CAAxF;AACAjC,uBAAG,CAACkC,mBAAJ,GAA0B,KAAK/B,MAAL,CAAYgC,mBAAZ,GACtB,KAAKhC,MAAL,CAAYgC,mBADU,GAEtB,CAFJ;;0BAIInC,GAAG,CAACgC,aAAJ,KAAsB;;;;;AACxBhC,uBAAG,CAACH,mBAAJ,GAA0B,KAA1B;;wBACKG,GAAG,CAACL;;;;;;AACP,2BAAMK,GAAG,CAACd,MAAJ,CAAWkD,WAAX,EAAN;;;AACApC,uBAAG,CAACqC,cAAJ;;;;AAIN,2BAAMrC,GAAG,CAACd,MAAJ,CAAWkD,WAAX,EAAN;;;;;;;;AACD;;;iBAEK,uBAAc,CAACE,QAAD,EAAS;;;;;;;AACf,2BAAM,KAAKnD,SAAL,CAAeoD,MAAf,CAAsB;AACtCtE,+BAAS,EAAEuE,yEAD2B;AAEtCC,oCAAc,EAAE;AAAEC,mCAAW,EAAE,KAAKvC,MAApB;AAA4BwC,gCAAQ,EAAEL;AAAtC;AAFsB,qBAAtB,CAAN;;;AAARM;AAIJA,yBAAK,CAACC,OAAN;;;;;;;;AACD;;;iBAEK,oBAAW;;;;;;;AACD,2BAAM,KAAK1D,SAAL,CAAeoD,MAAf,CAAsB;AACxCtE,+BAAS,EAAEuE,yEAD6B;AAExCC,oCAAc,EAAE;AAAEK,uCAAe,EAAE,IAAnB;AAAyBC,mCAAW,EAAE,KAAKtC,eAAL,CAAqBuC,WAA3D;AAAwEC,oCAAY,EAAE,KAAKxC,eAAL,CAAqByC,YAA3G;AAAyHC,sCAAc,EAAE,KAAK1C,eAAL,CAAqB2C;AAA9J;AAFwB,qBAAtB,CAAN;;;AAARR;AAINA,yBAAK,CAACC,OAAN;;;;;;;;AACD;;;iBAEK,mBAAU,CAACQ,MAAD,EAAgB;;;;;;;AAClB,2BAAM,KAAKlE,SAAL,CAAeoD,MAAf,CAAsB;AACtCtE,+BAAS,EAAEuE,yEAD2B;AAEtCC,oCAAc,EAAE;AAAEa,8BAAM,EAAED;AAAV;AAFsB,qBAAtB,CAAN;;;AAART;AAIJA,yBAAK,CAACC,OAAN;;;;;;;;AACD;;;iBAEM,8BAAqB;AAC1B,iBAAKU,uBAAL,GAA+B,CAAC,KAAKA,uBAArC;;AACA,gBAAI,KAAKA,uBAAT,EAAkC;AAChC,mBAAKC,kBAAL,GAA0B,4BAA1B;AACD,aAFD,MAEO,KAAKA,kBAAL,GAA0B,4BAA1B;AACR;;;iBAEK,kBAAS,CAAClB,QAAD,EAAWmB,UAAX,EAAuBC,MAAvB,EAA+BC,SAA/B,EAA0CC,cAA1C,EAAwD;;;;;;;AACrE,yBAAKC,MAAL,CAAYC,KAAZ,sBAAgCxB,QAAhC,cAA4CmB,UAA5C,cAA0DC,MAA1D,cAAoEC,SAApE;;AACY,2BAAM,KAAKxE,SAAL,CAAeoD,MAAf,CAAsB;AACtCtE,+BAAS,EAAE8F,mEAD2B;AAEtCtB,oCAAc,EAAE;AACd/C,gCAAQ,EAAE,KAAKA,QADD;AAEdiD,gCAAQ,EAAEL,QAFI;AAGd0B,kCAAU,EAAEP,UAHE;AAIdQ,8BAAM,EAAEP,MAJM;AAKdQ,iCAAS,EAAEP,SALG;AAMdQ,kCAAU,EAAE,KANE;AAOdC,sCAAc,EAAER;AAPF;AAFsB,qBAAtB,CAAN;;;AAARhB;AAYJA,yBAAK,CAACC,OAAN;;AACiB,2BAAMD,KAAK,CAACyB,YAAN,EAAN;;;;AAATC;;AACR,wBAAIA,IAAJ,EAAU;AACR,0BAAGV,cAAH,EAAkB;AAChB,4BAAIU,IAAI,CAACxE,QAAT,EAAmB;AACjB,+BAAKyE,eAAL,GAAuBD,IAAI,CAACxE,QAA5B;AACD,yBAFD,MAEO;AACL,+BAAKZ,MAAL,CAAYsF,KAAZ,CACE,kDADF;AAGD;AACF,uBARD,MAQO;AACL,4BAAIF,IAAI,CAACxE,QAAT,EAAmB;AACjB,+BAAKA,QAAL,GAAgBwE,IAAI,CAACxE,QAArB;AACA,+BAAKe,cAAL,CAAoBI,OAApB,CAA4B,UAACC,IAAD,EAAS;AACnC,gCAAIA,IAAI,CAACG,EAAL,KAAYiB,QAAhB,EAA0BpB,IAAI,CAACpB,QAAL,GAAgB,IAAhB;AAC3B,2BAFD;AAGD,yBALD,MAKO;AACL,+BAAKZ,MAAL,CAAYsF,KAAZ,CACE,qCACEf,UADF,GAEE,qBAHJ;AAKD;AACF;AACF;;;;;;;;AACF;;;iBAEK,qBAAY;;;;;;;;AACJ,2BAAM,KAAKtE,SAAL,CAAeoD,MAAf,CAAsB;AACtCtE,+BAAS,EAAE8F,mEAD2B;AAEtCtB,oCAAc,EAAE;AAAE/C,gCAAQ,EAAE,KAAKA,QAAjB;AAA2ByE,kCAAU,EAAE;AAAvC;AAFsB,qBAAtB,CAAN;;;AAARvB;AAIJA,yBAAK,CAACC,OAAN;;AACiB,2BAAMD,KAAK,CAACyB,YAAN,EAAN;;;;AAATC;;AACR,wBAAIA,IAAJ,EAAU;AACR,0BAAIA,IAAI,CAACxE,QAAT,EAAmB;AACjB,6BAAKA,QAAL,GAAgBwE,IAAI,CAACxE,QAArB;AACA,6BAAKyE,eAAL,GAAuBD,IAAI,CAACxE,QAA5B;;AACA,4BAAG,KAAKe,cAAL,IAAuB,KAAKA,cAAL,CAAoB4D,MAA9C,EAAqD;AACnD,+BAAK5D,cAAL,CAAoBI,OAApB,CAA4B,UAACC,IAAD,EAAS;AACnCA,gCAAI,CAACpB,QAAL,GAAgB,IAAhB;AACD,2BAFD;AAGD;AACF,uBARD,MAQO;AACL,6BAAKZ,MAAL,CAAYsF,KAAZ,CAAkB,6CAAlB;AACD;AACF;;;;;;;;AACF;;;iBAED,yBAAgB;AACd,iBAAKtF,MAAL,CAAYwF,IAAZ,CAAiBC,+EAAjB;AACD;;;iBAEK,eAAM;;;;;;;AACV,yBAAKvF,aAAL,CAAmBwF,mBAAnB;sDACO,KAAK1F,MAAL,CAAY2F,SAAZ,CAAsBF,sEAAtB,EAAsCG,IAAtC,CAA2C;AAAA,6BAAW;AAAA;AAAA;AAAA;AAAA;AAC3D,qCAAM,KAAKzF,gBAAL,CAAsB0F,UAAtB,CAAiC,IAAjC,EAAuC,KAAKvF,QAA5C,CAAN;;AAD2D;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAX;AAAA,qBAA3C;;;;;;;;AAGR;;;iBAEK,eAAM;;;;;AACV,yBAAKF,iBAAL,CAAuBoF,IAAvB,CAA4BC,gFAA5B,EAAsD;AACpDK,iCAAW,EAAE;AAAEC,gCAAQ,EAAE;AAAZ;AADuC,qBAAtD;;;;;;;;AAGD;;;iBAED,uBAAc,GAAe;AAAA,gBAAdC,MAAc,uEAAL,KAAK;AAC3B,gBAAIlF,GAAG,GAAG,IAAV;;AACA,gBAAImF,iFAAJ,EAAyB;AACvBnF,iBAAG,CAACd,MAAJ,CAAWkD,WAAX;;AACA,kBAAI8C,MAAJ,EAAY;AACVlF,mBAAG,CAACZ,aAAJ,CAAkBwF,mBAAlB;AACA,qBAAK1F,MAAL,CAAY2F,SAAZ,CAAsBF,sEAAtB;AACD;AACF;AACF;;;iBAED,aAAI;AACF,gBAAI,KAAKhF,eAAT,EAA0B;AACxB,mBAAKyF,gBAAL;AACD,aAFD,MAEO;AACL,mBAAKF,MAAL;AACD;AACF;;QArOmCG;;;yBAAzBtG,mBAAgBD;AAAA;;;cAAhBC;AAAgBuG;AAAAC;AAAA;;;;;;;;;;;;;;;;ADlB7BzG;;AACEA;;AAGAA;;AAGFA;;AACAA;;AACEA;;AACEA;;AAAuBA;;AAAUA;;AAAWA;;AAAgBA;;AAC5DA;;AACAA;;AAAuBA;;AAAkBA;;AAAWA;;AAAmBA;;AACvEA;;AACAA;;AAAuBA;;AAAQA;;AAAWA;;AAAeA;;AACzDA;;AACAA;;AAAuBA;;AAAIA;;AAAWA;;AAAOA;;AAC7CA;;AACAA;;AAAuBA;;AAAQA;;AAAWA;;;;AAAoBA;;AAC9DA;;AACAA;;AAAuBA;;AAAeA;;AAAWA;;AAAuBA;;AACxEA;;AACAA;;AAAuBA;;AAAgBA;;AAAWA;;AAAiBA;;AACnEA;;AACFA;;AAEAA;;AAoCAA;;AA0BAA;;AACEA;;AAEFA;;AAEAA;;AAYAA;;AAGFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AAA0BA;AAAA,qBAASkB,UAAT;AAAe,aAAf;;AAAmDlB;;AAAIA;;AACnFA;;AACAA;;AAGFA;;AACFA;;AACFA;;AACFA;;;;AAzH8EA;;AAAAA;;AAGCA;;AAAAA;;AAM/BA;;AAAAA;;AAEQA;;AAAAA;;AAEVA;;AAAAA;;AAEJA;;AAAAA;;AAEIA;;AAAAA;;AAEOA;;AAAAA;;AAECA;;AAAAA;;AAILA;;AAAAA;;AAoCAA;;AAAAA;;AA2BhCA;;AAAAA;;AAIgCA;;AAAAA;;AAYpBA;;AAAAA;;AAWXA;;AAAAA;;;;;;;;;","names":["routes","path","component","_scan_complete_page__WEBPACK_IMPORTED_MODULE_0__","ScanCompletePageRoutingModule","_angular_router__WEBPACK_IMPORTED_MODULE_2__","imports","exports","ScanCompletePageModule","_angular_common__WEBPACK_IMPORTED_MODULE_3__","_angular_forms__WEBPACK_IMPORTED_MODULE_4__","_ionic_angular__WEBPACK_IMPORTED_MODULE_5__","_scan_complete_routing_module__WEBPACK_IMPORTED_MODULE_0__","declarations","_scan_complete_page__WEBPACK_IMPORTED_MODULE_1__","_angular_core__WEBPACK_IMPORTED_MODULE_9__","ScanCompletePage","navCtrl","navParams","helper","modalCtrl","reportService","innovaVciService","navigationService","erasedModuleIds","deviceId","getQueryParam","ReportId","fromHistoryPage","coerceBooleanProperty","showButtonEraseDtcs","isErased","loadReport","ctx","showLoading","getReport","report","WorkOrderNumber","workOrderNumber","ReportNumber","reportNumber","powertrainCodes","PowertrainCodes","totalOBDCodes","otherCodeCount","modulesWithDTC","ModulesWithDTC","sort","d","index","forEach","item","findIndex","e","id","modulesWithoutDTC","ModulesWithoutDTC","status","incompleteReport","VehicleName","ymme","VIN","vin","Mileage","mileage","TotalDTCCount","totalErrorCodeCount","ModulesScannedCount","modulesScannedCount","hideLoading","disconnectTool","moduleId","create","_dtc_details_dtc_details_page__WEBPACK_IMPORTED_MODULE_2__","componentProps","ReportModel","ModuleId","modal","present","DisplayOBDCodes","StoredCodes","storedCodes","PendingCodes","pendingCodes","PermanentCodes","permanentCodes","milDtc","MilDTC","isViewModulesWithoutDTC","btnViewModulesText","moduleName","system","subSystem","isEraseOBDDTCs","logger","debug","_dtc_erase_dtc_erase_page__WEBPACK_IMPORTED_MODULE_3__","ModuleName","System","SubSystem","IsEraseAll","IsEraseOBDDTCs","onDidDismiss","data","isErasedOBDDtcs","alert","length","goTo","src_app_app_routing_module__WEBPACK_IMPORTED_MODULE_0__","deleteReportSession","popToRoot","then","disconnect","queryParams","isRescan","goHome","src_app_services_state_app_state__WEBPACK_IMPORTED_MODULE_4__","backToPastReport","src_app_bases_base_controller__WEBPACK_IMPORTED_MODULE_1__","selectors","viewQuery"],"sources":["webpack:///src/app/pages/scan-complete/scan-complete-routing.module.ts","webpack:///src/app/pages/scan-complete/scan-complete.module.ts","webpack:///src/app/pages/scan-complete/scan-complete.page.html","webpack:///src/app/pages/scan-complete/scan-complete.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ScanCompletePage } from './scan-complete.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ScanCompletePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ScanCompletePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ScanCompletePageRoutingModule } from './scan-complete-routing.module';\n\nimport { ScanCompletePage } from './scan-complete.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ScanCompletePageRoutingModule\n  ],\n  declarations: [ScanCompletePage]\n})\nexport class ScanCompletePageModule {}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar [color]=\"incompleteReport ? 'danger' : 'secondary'\" mode=\"md\" *ngIf=\"isAndroid\">\n    <ion-title style=\"color: white;\">{{incompleteReport}}Report</ion-title>\n  </ion-toolbar>\n  <ion-toolbar [color]=\"incompleteReport ? 'danger' : 'secondary'\" mode=\"ios\" *ngIf=\"!isAndroid\">\n    <ion-title style=\"color: white;\">{{incompleteReport}}Report</ion-title>\n  </ion-toolbar>\n</ion-header>\n<ion-content class=\"ion-padding\">\n  <ion-list class=\"app-report-history py-3\">\n    <ion-item lines=\"none\">Report ID:<ion-label>{{ReportNumber}}</ion-label>\n    </ion-item>\n    <ion-item lines=\"none\">Work Order Number:<ion-label>{{WorkOrderNumber}}</ion-label>\n    </ion-item>\n    <ion-item lines=\"none\">Vehicle:<ion-label>{{VehicleName}}</ion-label>\n    </ion-item>\n    <ion-item lines=\"none\">VIN:<ion-label>{{VIN}}</ion-label>\n    </ion-item>\n    <ion-item lines=\"none\">Mileage:<ion-label>{{Mileage | number}}</ion-label>\n    </ion-item>\n    <ion-item lines=\"none\">Active Modules:<ion-label>{{ModulesScannedCount}}</ion-label>\n    </ion-item>\n    <ion-item lines=\"none\">Total DTC Count:<ion-label>{{TotalDTCCount}}</ion-label>\n    </ion-item>\n  </ion-list>\n  <!-- Powertrain Codes -->\n  <ion-item lines=\"none\" class=\"ion-no-padding\" *ngIf=\"PowertrainCodes\">\n    <ion-grid class=\"app-grid-table\">\n      <ion-row class=\"app-grid-th\">\n        <ion-col size=\"{{showButtonEraseDtcs ? 6 : 8}}\">OBD DTC Codes</ion-col>\n        <ion-col size=\"2\" class=\"ion-text-center\">DTC</ion-col>\n        <ion-col style=\"padding-left: 0; padding-right: 0;\" size=\"2\" class=\"ion-text-center\">Details</ion-col>\n        <ion-col style=\"padding-left: 0; padding-right: 0;\" size=\"2\" class=\"ion-text-center\"\n          *ngIf=\"showButtonEraseDtcs\">Erase</ion-col>\n      </ion-row>\n      <ion-row>\n        <ion-col size=\"{{showButtonEraseDtcs ? 6 : 8}}\">MIL DTC</ion-col>\n        <ion-col size=\"2\" class=\"ion-text-center\">{{PowertrainCodes.primaryCode ? 1 : 0}}</ion-col>\n        <ion-col size=\"2\" class=\"ion-text-center\">\n          <ion-icon *ngIf=\"PowertrainCodes.primaryCode\" (click)=\"viewMilDtc(PowertrainCodes.primaryCode)\"\n            src=\"assets/svg/info.svg\" class=\"font-size-25\"></ion-icon>\n        </ion-col>\n        <ion-col size=\"2\" class=\"ion-text-center\" *ngIf=\"showButtonEraseDtcs && !isErasedOBDDtcs\">\n          <ion-icon *ngIf=\"PowertrainCodes.primaryCode\" class=\"icon-proscan-delete font-size-25\"\n            src=\"assets/svg/delete.svg\" (click)=\"eraseDtcs(0, '', 0, 0, true)\"></ion-icon>\n        </ion-col>\n      </ion-row>\n      <ion-row>\n        <ion-col size=\"{{showButtonEraseDtcs ? 6 : 8}}\">Other OBD DTC Codes</ion-col>\n        <ion-col size=\"2\" class=\"ion-text-center\">{{totalOBDCodes}}</ion-col>\n        <ion-col size=\"2\" class=\"ion-text-center\">\n          <ion-icon *ngIf=\"totalOBDCodes > 0\" (click)=\"viewObdDtcs()\" src=\"assets/svg/info.svg\"\n            class=\"font-size-25\"></ion-icon>\n        </ion-col>\n        <ion-col size=\"2\" class=\"ion-text-center\" *ngIf=\"showButtonEraseDtcs && !isErasedOBDDtcs\">\n          <ion-icon *ngIf=\"totalOBDCodes > 0\" class=\"icon-proscan-delete font-size-25\" src=\"assets/svg/delete.svg\"\n            (click)=\"eraseDtcs(0, '', 0, 0, true)\"></ion-icon>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </ion-item>\n  <!-- Begin table -->\n  <ion-item lines=\"none\" class=\"ion-no-padding\" *ngIf=\"ModulesWithDTC && ModulesWithDTC.length > 0\">\n    <ion-grid class=\"app-grid-table\">\n      <ion-row class=\"app-grid-th\">\n        <ion-col size=\"{{showButtonEraseDtcs ? 6 : 8}}\">Failed Modules</ion-col>\n        <ion-col size=\"2\" class=\"ion-text-center\">DTC</ion-col>\n        <ion-col style=\"padding-left: 0; padding-right: 0;\" size=\"2\" class=\"ion-text-center\">Details</ion-col>\n        <ion-col style=\"padding-left: 0; padding-right: 0;\" size=\"2\" class=\"ion-text-center\"\n          *ngIf=\"showButtonEraseDtcs\">Erase</ion-col>\n      </ion-row>\n      <ion-row *ngFor=\"let module of ModulesWithDTC\">\n        <ion-col size=\"{{showButtonEraseDtcs ? 6 : 8}}\" *ngIf=\"!module.isErased\">{{module.name}}</ion-col>\n        <ion-col size=\"{{showButtonEraseDtcs ? 6 : 8}}\" *ngIf=\"module.isErased\"><span\n            style=\"color: gray\">{{module.name}}</span></ion-col>\n        <ion-col size=\"2\" class=\"ion-text-center\">{{module.dtcCount}}</ion-col>\n        <ion-col size=\"2\" class=\"ion-text-center\">\n          <ion-icon *ngIf=\"module.dtcCount > 0\" (click)=\"viewDtcDetails(module.id)\" src=\"assets/svg/info.svg\"\n            class=\"font-size-25\"></ion-icon>\n        </ion-col>\n        <ion-col size=\"2\" class=\"ion-text-center\" *ngIf=\"showButtonEraseDtcs\">\n          <ion-icon *ngIf=\"module.dtcCount > 0 && !module.isErased\" class=\"icon-proscan-delete font-size-25\"\n            src=\"assets/svg/delete.svg\"\n            (click)=\"eraseDtcs(module.id, module.name, module.system, module.subSystem, false)\"></ion-icon>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </ion-item>\n  <div class=\"mt-2 mb-4-01\">\n    <ion-button *ngIf=\"ModulesWithoutDTC && ModulesWithoutDTC.length > 0\" (click)=\"viewModulesWithoutDTC();\"\n      type=\"button\" class=\"app-button w-100\">{{btnViewModulesText}}</ion-button>\n  </div>\n  <!-- table 02 -->\n  <ion-item lines=\"none\" class=\"ion-no-padding\" *ngIf=\"isViewModulesWithoutDTC\">\n    <ion-grid class=\"app-grid-table\">\n      <ion-row class=\"app-grid-th\">\n        <ion-col size=\"9\">System</ion-col>\n        <ion-col size=\"3\" class=\"ion-text-center\">DTC</ion-col>\n      </ion-row>\n      <ion-row *ngFor=\"let module of ModulesWithoutDTC\">\n        <ion-col size=\"9\">{{module.name}}</ion-col>\n        <ion-col size=\"3\" class=\"ion-text-center\">0</ion-col>\n      </ion-row>\n    </ion-grid>\n  </ion-item>\n  <div class=\"mt-2 mb-4-01\" *ngIf=\"isErased\">\n    <ion-button (click)=\"rescan();\" type=\"button\" class=\"app-button w-100\">Rescan</ion-button>\n  </div>\n</ion-content>\n<ion-footer class=\"ion-no-border p-2\">\n  <ion-toolbar class=\"py-1\">\n    <ion-grid>\n      <ion-row class=\"text-center\">\n        <ion-col>\n          <ion-button type=\"submit\" (click)=\"done()\" class=\"app-button\" expand=\"block\">Done</ion-button>\n        </ion-col>\n        <ion-col *ngIf=\"!fromHistoryPage\">\n          <ion-button class=\"app-button\" color=\"danger\" expand=\"block\" (click)=\"eraseAllDtcs()\">Erase All</ion-button>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </ion-toolbar>\n</ion-footer>","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ModalController, NavController, NavParams } from '@ionic/angular';\nimport { RoutePath } from 'src/app/app-routing.module';\nimport { BaseController } from 'src/app/bases/base-controller';\nimport { HelperService } from 'src/app/services/helper.service';\nimport { InnovaVCIService } from 'src/app/services/innova-vci.service';\nimport { NavigationService } from 'src/app/services/navigation.service';\nimport { ReportServiceProvider } from 'src/app/services/report-service/report-service';\nimport { DtcDetailsPage } from '../dtc-details/dtc-details.page';\nimport { DtcErasePage } from '../dtc-erase/dtc-erase.page';\nimport { AppState } from 'src/app/services/state/app.state';\nimport { DtcItem, PowertrainCodes, ReportModel } from 'src/app/models/app.model';\n\n@Component({\n  selector: 'app-scan-complete',\n  templateUrl: './scan-complete.page.html',\n  styleUrls: ['./scan-complete.page.scss'],\n})\nexport class ScanCompletePage extends BaseController implements OnInit {\n  @ViewChild('content') content: any;\n  WorkOrderNumber = '';\n  ReportId = '';\n  ReportNumber: number;\n  ModulesWithDTC: Array<any>;\n  ModulesWithoutDTC: Array<any>;\n  PowertrainCodes: PowertrainCodes;\n  ModulesScannedCount = 0;\n  VehicleName = '';\n  VIN = '';\n  Mileage = 0;\n  TotalDTCCount = 0;\n  fromHistoryPage = false;\n  isViewModulesWithoutDTC = false;\n  showButtonEraseDtcs = true;\n  btnViewModulesText = 'Click to view good modules';\n  incompleteReport = '';\n  isErased = false;\n  isErasedOBDDtcs = false;\n  erasedModuleIds = [];\n  deviceId = '';\n  totalOBDCodes = 0;\n  public unregisterBackButtonAction: any;\n  report: ReportModel;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private helper: HelperService,\n    public modalCtrl: ModalController,\n    private reportService: ReportServiceProvider,\n    private innovaVciService: InnovaVCIService,\n    private navigationService: NavigationService\n  ) {\n    super('ScanCompletePage');\n  }\n  ngOnInit() {}\n\n  ionViewWillEnter() {\n    this.erasedModuleIds = [];\n    this.deviceId = this.navigationService.getQueryParam('deviceId');\n    this.ReportId = this.navigationService.getQueryParam('reportId');\n    this.fromHistoryPage = this.helper.coerceBooleanProperty(this.navigationService.getQueryParam('fromHistory'));\n    if (this.fromHistoryPage) {\n      this.showButtonEraseDtcs = false;\n    } else {\n      this.showButtonEraseDtcs = true;\n    }\n  }\n  async ionViewDidEnter() {\n    this.isErased = false;\n    await this.loadReport();\n  }\n\n  async loadReport() {\n    let ctx = this;\n    await ctx.helper.showLoading();\n    this.report = await ctx.reportService.getReport(ctx.ReportId);\n    if (this.report) {\n      this.WorkOrderNumber = this.report.workOrderNumber;\n      this.ReportNumber = this.report.reportNumber;\n      if(this.report.powertrainCodes){\n        this.PowertrainCodes = this.report.powertrainCodes;\n        this.totalOBDCodes = this.PowertrainCodes.otherCodeCount;\n      }\n      if (this.report.modulesWithDTC) {\n        ctx.ModulesWithDTC = this.report.modulesWithDTC.sort((d) => d.index);\n        ctx.ModulesWithDTC.forEach((item) => {\n          if (ctx.erasedModuleIds.findIndex((e) => e.id === item.id) > -1)\n            item.isErased = true;\n        });\n      }\n      if (this.report.modulesWithoutDTC) {\n        ctx.ModulesWithoutDTC = this.report.modulesWithoutDTC;\n      }\n\n      if (this.report.status === 1) {\n        ctx.incompleteReport = 'Incomplete ';\n      } else {\n        ctx.incompleteReport = '';\n      }\n      ctx.VehicleName = this.report.ymme ? this.report.ymme : '';\n      ctx.VIN = this.report.vin ? this.report.vin : '';\n      ctx.Mileage = this.report.mileage;\n      ctx.TotalDTCCount = this.report.totalErrorCodeCount ? this.report.totalErrorCodeCount : 0;\n      ctx.ModulesScannedCount = this.report.modulesScannedCount\n        ? this.report.modulesScannedCount\n        : 0;\n\n      if (ctx.TotalDTCCount === 0) {\n        ctx.showButtonEraseDtcs = false;\n        if (!ctx.fromHistoryPage) {\n          await ctx.helper.hideLoading();\n          ctx.disconnectTool();\n        }\n      }\n    }\n    await ctx.helper.hideLoading();\n  }\n\n  async viewDtcDetails(moduleId) {\n    let modal = await this.modalCtrl.create({\n      component: DtcDetailsPage,\n      componentProps: { ReportModel: this.report, ModuleId: moduleId },\n    });\n    modal.present();\n  }\n\n  async viewObdDtcs(){\n    const modal = await this.modalCtrl.create({\n      component: DtcDetailsPage,\n      componentProps: { DisplayOBDCodes: true, StoredCodes: this.PowertrainCodes.storedCodes, PendingCodes: this.PowertrainCodes.pendingCodes, PermanentCodes: this.PowertrainCodes.permanentCodes  },\n    });\n    modal.present();\n  }\n\n  async viewMilDtc(milDtc: DtcItem) {\n    let modal = await this.modalCtrl.create({\n      component: DtcDetailsPage,\n      componentProps: { MilDTC: milDtc },\n    });\n    modal.present();\n  }\n\n  public viewModulesWithoutDTC(): void {\n    this.isViewModulesWithoutDTC = !this.isViewModulesWithoutDTC;\n    if (this.isViewModulesWithoutDTC) {\n      this.btnViewModulesText = 'Click to hide good modules';\n    } else this.btnViewModulesText = 'Click to view good modules';\n  }\n\n  async eraseDtcs(moduleId, moduleName, system, subSystem, isEraseOBDDTCs) {\n    this.logger.debug(`erase dtcs ${moduleId} ${moduleName} ${system} ${subSystem}`);\n    let modal = await this.modalCtrl.create({\n      component: DtcErasePage,\n      componentProps: {\n        ReportId: this.ReportId,\n        ModuleId: moduleId,\n        ModuleName: moduleName,\n        System: system,\n        SubSystem: subSystem,\n        IsEraseAll: false,\n        IsEraseOBDDTCs: isEraseOBDDTCs\n      },\n    });\n    modal.present();\n    const { data } = await modal.onDidDismiss();\n    if (data) {\n      if(isEraseOBDDTCs){\n        if (data.isErased) {\n          this.isErasedOBDDtcs = data.isErased;\n        } else {\n          this.helper.alert(\n            'Unable to erase OBD DTC Codes. Please try again.'\n          );\n        }\n      } else {\n        if (data.isErased) {\n          this.isErased = data.isErased;\n          this.ModulesWithDTC.forEach((item) => {\n            if (item.id === moduleId) item.isErased = true;\n          });\n        } else {\n          this.helper.alert(\n            'Unable to erase dtcs of module: ' +\n              moduleName +\n              '. Please try again.'\n          );\n        }\n      }\n    }\n  }\n\n  async eraseAllDtcs() {\n    let modal = await this.modalCtrl.create({\n      component: DtcErasePage,\n      componentProps: { ReportId: this.ReportId, IsEraseAll: true },\n    });\n    modal.present();\n    const { data } = await modal.onDidDismiss();\n    if (data) {\n      if (data.isErased) {\n        this.isErased = data.isErased;\n        this.isErasedOBDDtcs = data.isErased;\n        if(this.ModulesWithDTC && this.ModulesWithDTC.length){\n          this.ModulesWithDTC.forEach((item) => {\n            item.isErased = true;\n          });\n        }\n      } else {\n        this.helper.alert('Unable to erase all dtcs. Please try again.');\n      }\n    }\n  }\n\n  backToPastReport() {\n    this.helper.goTo(RoutePath.ReportHistory);\n  }\n\n  async goHome() {\n    this.reportService.deleteReportSession();\n    return this.helper.popToRoot(RoutePath.Home).then(async () =>{\n      await this.innovaVciService.disconnect(true, this.deviceId);\n    });\n  }\n\n  async rescan() {\n    this.navigationService.goTo(RoutePath.VehicleLinking, {\n      queryParams: { isRescan: 'true' },\n    });\n  }\n\n  disconnectTool(goHome = false) {\n    let ctx = this;\n    if (AppState.isOnDevice) {\n      ctx.helper.hideLoading();\n      if (goHome) {\n        ctx.reportService.deleteReportSession();\n        this.helper.popToRoot(RoutePath.Home);\n      }\n    }\n  }\n\n  done() {\n    if (this.fromHistoryPage) {\n      this.backToPastReport();\n    } else {\n      this.goHome();\n    }\n  }\n}\n"]}