{"version":3,"file":"default-src_app_pages_dtc-details_dtc-details_page_ts-es2015.js","mappings":"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","sources":["./src/app/components/group-by/group-by-pipe.ts","./src/app/pages/dtc-details/dtc-details.page.ts","./src/app/pages/dtc-details/dtc-details.page.html"],"sourcesContent":["import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'groupBy'\n})\nexport class GroupByPipe implements PipeTransform {\n  transform(collection: any[], property: string): any[] {\n    // prevents the application from breaking if the array of objects doesn't exist yet\n    if(!collection) {\n        return null;\n    }\n\n    const groupedCollection = collection.reduce((previous, current)=> {\n        if(!previous[current[property]]) {\n            previous[current[property]] = [current];\n        } else {\n            previous[current[property]].push(current);\n        }\n\n        return previous;\n    }, {});\n\n    // this will return an array of objects, each object containing a group of objects\n    return Object.keys(groupedCollection).map(key => ({ key, value: groupedCollection[key] }));\n  }\n}","import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { DtcItem, DtcModel, ReportModel } from 'src/app/models/app.model';\nimport { NavController, NavParams, ModalController } from '@ionic/angular';\nimport { HelperService } from 'src/app/services/helper.service';\nimport { ReportServiceProvider } from 'src/app/services/report-service/report-service';\nimport { RoutePath } from 'src/app/app-routing.module';\nimport { NavigationService } from 'src/app/services/navigation.service';\nimport { BaseController } from 'src/app/bases/base-controller';\n\n@Component({\n  selector: 'app-dtc-details',\n  templateUrl: './dtc-details.page.html',\n  styleUrls: ['./dtc-details.page.scss'],\n})\nexport class DtcDetailsPage extends BaseController implements OnInit {\n\n  ModuleName = '';\n  public ModuleId = '';\n  VehicleName = '';\n  Vin = '';\n  DtcCount = 0;\n  public ReportModel: ReportModel;\n  public MilDTC: DtcItem;\n  public PendingCodes: DtcItem[];\n  public StoredCodes: DtcItem[];\n  public PermanentCodes: DtcItem[];\n  public DisplayOBDCodes: boolean;\n  ReportData: Observable<any>;\n  System: string;\n  SubSystem: string;\n  Dtcs: Array<DtcModel> = [];\n  DtcsView:any;\n  constructor(public navCtrl: NavController, \n    public navParams: NavParams,\n    public modalController: ModalController,\n    public helper: HelperService,\n    private navigationService: NavigationService,\n    private reportService: ReportServiceProvider) {\n      super('DtcDetailsPage');\n  }\n\n  ngOnInit() {\n  }\n\n  async ionViewDidEnter() {\n    let ctx = this;\n    if(!ctx.MilDTC && !ctx.DisplayOBDCodes){\n      if(this.ReportModel){\n        ctx.Vin = this.ReportModel.vin;\n        ctx.VehicleName = this.ReportModel.ymme;\n        let moduleValue = this.ReportModel.modulesWithDTC.find(x => x.id === ctx.ModuleId);\n        if (moduleValue) {\n          ctx.ModuleName = moduleValue.name;\n          ctx.DtcCount = moduleValue.dtcCount;\n          ctx.Dtcs = moduleValue.dtcs;\n          ctx.System = moduleValue.system;\n          ctx.SubSystem = moduleValue.subSystem;\n          let i=0;\n          for (i; i < moduleValue.dtcs.length;i++){\n            const item = moduleValue.dtcs[i];\n            ctx.Dtcs[i].definition = item.definition.toString().split('`').join('</br>');\n          }\n        }\n      }\n    }\n  }\n\n  backToReportPage() {\n    this.modalController.dismiss();\n  }\n\n  viewEraseDtcs() {\n    this.navigationService.goTo(RoutePath.DtcErase, {\n      queryParams: {\n        reportId: this.ReportModel ? this.ReportModel.id : null,\n        moduleId: this.ModuleId,\n        system: this.System,\n        subSystem: this.SubSystem\n      }\n    });\n  }\n}","<ion-content class=\"ion-padding\">\n  <h3 class=\"mt-5 mb-3\" *ngIf=\"MilDTC\">MIL DTC</h3>\n  <ion-list class=\"app-dtc-details\" *ngIf=\"MilDTC\">\n    <ion-list-header>Stored</ion-list-header>\n    <ion-item lines=\"none\">\n      <div class=\"pt-3\">\n        <h4>{{MilDTC.code}}</h4>\n        <p class=\"mb-4\" innerHTML=\"{{MilDTC.definition}}\"></p>\n      </div>\n    </ion-item>\n  </ion-list>\n  <h3 class=\"mt-5 mb-3\" *ngIf=\"DisplayOBDCodes\">Other OBD DTC Codes</h3>\n  <ion-list class=\"app-dtc-details\" *ngIf=\"DisplayOBDCodes && StoredCodes && StoredCodes.length\">\n    <ion-list-header>Stored</ion-list-header>\n    <ion-item lines=\"none\" *ngFor=\"let dtc of StoredCodes\">\n      <div class=\"pt-3\">\n        <h4>{{dtc.code}}</h4>\n        <p class=\"mb-4\" innerHTML=\"{{dtc.definition}}\"></p>\n      </div>\n    </ion-item>\n  </ion-list>\n  <ion-list class=\"app-dtc-details\" *ngIf=\"DisplayOBDCodes && PendingCodes && PendingCodes.length\">\n    <ion-list-header>Pending</ion-list-header>\n    <ion-item lines=\"none\" *ngFor=\"let dtc of PendingCodes\">\n      <div class=\"pt-3\">\n        <h4>{{dtc.code}}</h4>\n        <p class=\"mb-4\" innerHTML=\"{{dtc.definition}}\"></p>\n      </div>\n    </ion-item>\n  </ion-list>\n  <ion-list class=\"app-dtc-details\" *ngIf=\"DisplayOBDCodes && PermanentCodes && PermanentCodes.length\">\n    <ion-list-header>Permanent</ion-list-header>\n    <ion-item lines=\"none\" *ngFor=\"let dtc of PermanentCodes\">\n      <div class=\"pt-3\">\n        <h4>{{dtc.code}}</h4>\n        <p class=\"mb-4\" innerHTML=\"{{dtc.definition}}\"></p>\n      </div>\n    </ion-item>\n  </ion-list>\n  <h3 class=\"mt-5 mb-3\" *ngIf=\"ModuleName\">{{ModuleName}} DTCs</h3>\n  <ion-list class=\"app-dtc-details\" *ngFor=\"let object of Dtcs | groupBy:'type'\">\n    <ion-list-header *ngIf=\"object.key\">{{object.key}}</ion-list-header>\n    <ion-list-header *ngIf=\"!object.key || object.key === null\">N/A</ion-list-header>\n    <ion-item lines=\"none\" *ngFor=\"let dtc of object.value\">\n      <div class=\"pt-3\">\n        <h4>{{dtc.code}}</h4>\n        <p class=\"mb-4\" innerHTML=\"{{dtc.definition}}\"></p>\n      </div> \n    </ion-item>\n  </ion-list>\n</ion-content>\n<ion-footer class=\"ion-no-border p-2\">\n  <ion-toolbar class=\"py-1\">\n    <ion-button class=\"app-button\" expand=\"block\" (click)=\"backToReportPage()\">Close</ion-button>\n  </ion-toolbar>\n</ion-footer>"],"names":[],"sourceRoot":"webpack:///"}